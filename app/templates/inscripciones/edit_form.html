{% extends "./layout.html" %}
{% block body %}

<head>
    <meta charset="UTF-8">
    <title> ar Equipo</title>
</head>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-body">
                    <!-- Botones en la parte superior del formulario -->
                    <div class="d-flex justify-content-between mb-3">
                        <a href="{{ url_for('teams_bp.inscripciones') }}" class="btn btn-secondary">VOLVER</a>
                        <a href="{{ url_for('teams_bp.delete_team', id=team.ID) }}" class="btn btn-danger btn-delete"
                        onclick="return confirm('¿Estás seguro de que deseas eliminar este equipo?');">ELIMINAR EQUIPO</a>
                        
                    </div>

                    <!-- Formulario -->
                    <form id="teamForm" action="/update_team/{{team.ID}}" method="POST">
                        <div class="form-group">
                            <label for="Equipo">Equipo</label>
                            <input type="text" class="form-control" id="Equipo" name="Equipo" placeholder="Equipo" value="{{ team.Equipo }}" required>
                        </div>
                        <div class="form-group">
                            <label for="Colegio">Colegio</label>
                            <input type="text" class="form-control" id="Colegio" name="Colegio" placeholder="Colegio" value="{{ team.Colegio }}" required>
                        </div>
                        <div class="form-group">
                            <label for="Deporte">Deporte</label>
                            <select class="form-control" id="Deporte" name="Deporte" required>
                                <option value="Futbol" {% if team.Deporte=='Futbol' %}selected{% endif %}>Futbol</option>
                                <option value="Basquet" {% if team.Deporte=='Basquet' %}selected{% endif %}>Basquet</option>
                                <option value="Voley" {% if team.Deporte=='Voley' %}selected{% endif %}>Voley</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="Categoria">Categoría</label>
                            <select class="form-control" id="Categoria" name="Categoria" required>
                                <option value="Masculino mayor" {% if team.Categoria=='Masculino mayor' %}selected{% endif %}>Masculino mayor</option>
                                <option value="Masculino menor" {% if team.Categoria=='Masculino menor' %}selected{% endif %}>Masculino menor</option>
                                <option value="Femenino mayor" {% if team.Categoria=='Femenino mayor' %}selected{% endif %}>Femenino mayor</option>
                                <option value="Femenino menor" {% if team.Categoria=='Femenino menor' %}selected{% endif %}>Femenino menor</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="DNI">DNI</label>
                            <input type="text" class="form-control" id="DNI" name="DNI" placeholder="DNI" value="{{ team.DNI }}" required>
                        </div>
                        <div class="form-group">
                            <label for="Telefono">Teléfono</label>
                            <input type="tel" class="form-control" id="Telefono" name="Telefono" placeholder="Teléfono" value="{{ team.Telefono }}" required>
                        </div>
                        <div class="form-group">
                            <label for="Correo">Correo</label>
                            <input type="email" class="form-control" id="Correo" name="Correo" placeholder="Correo" value="{{ team.Correo }}" required>
                        </div>
                        <div class="form-group">
                            <label for="Miembros">Miembros</label>
                            <input type="text" class="form-control" id="Miembros" name="Miembros" placeholder="Miembros" value="{{ team.Miembros }}" required>
                        </div>
                        <div class="form-group">
                            <label for="Acompañantes">Acompañantes</label>
                            <input type="text" class="form-control" id="Acompañantes" name="Acompañantes" placeholder="Acompañantes" value="{{ team.Acompañantes }}" required>
                        </div>
                        <div class="form-group">
                            <label for="Vegetariano">Vegetariano</label>
                            <select class="form-control" id="Vegetariano" name="Vegetariano" required>
                                <option value="1" {% if team.Vegetariano=='1' %}selected{% endif %}>1</option>
                                <option value="2" {% if team.Vegetariano=='2' %}selected{% endif %}>2</option>
                                <option value="3" {% if team.Vegetariano=='3' %}selected{% endif %}>3</option>
                                <option value="4" {% if team.Vegetariano=='4' %}selected{% endif %}>4</option>
                                <option value="5" {% if team.Vegetariano=='5' %}selected{% endif %}>5</option>
                                <option value="NO" {% if team.Vegetariano=='NO' %}selected{% endif %}>NINGUNO</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="Celiaco">Celiaco</label>
                            <select class="form-control" id="Celiaco" name="Celiaco" required>
                                <option value="1" {% if team.Celiaco=='1' %}selected{% endif %}>1</option>
                                <option value="2" {% if team.Celiaco=='2' %}selected{% endif %}>2</option>
                                <option value="3" {% if team.Celiaco=='3' %}selected{% endif %}>3</option>
                                <option value="4" {% if team.Celiaco=='4' %}selected{% endif %}>4</option>
                                <option value="5" {% if team.Celiaco=='5' %}selected{% endif %}>5</option>
                                <option value="NO" {% if team.Celiaco=='NO' %}selected{% endif %}>NINGUNO</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="Diabetico">Diabético</label>
                            <select class="form-control" id="Diabetico" name="Diabetico" required>
                                <option value="1" {% if team.Diabetico=='1' %}selected{% endif %}>1</option>
                                <option value="2" {% if team.Diabetico=='2' %}selected{% endif %}>2</option>
                                <option value="3" {% if team.Diabetico=='3' %}selected{% endif %}>3</option>
                                <option value="4" {% if team.Diabetico=='4' %}selected{% endif %}>4</option>
                                <option value="5" {% if team.Diabetico=='5' %}selected{% endif %}>5</option>
                                <option value="NO" {% if team.Diabetico=='NO' %}selected{% endif %}>NINGUNO</option>
                            </select>
                        </div>
                        <button type="submit" id="submitButton" class="btn btn-primary btn-block" disabled>Guardar</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('teamForm');
    const submitButton = document.getElementById('submitButton');
    
    // Verifica si todos los campos requeridos están completos
    function checkFormCompletion() {
        const requiredFields = form.querySelectorAll('input[required], select[required]');
        let allFilled = true;

        requiredFields.forEach(field => {
            if (!field.value.trim()) {
                allFilled = false;
            }
        });

        submitButton.disabled = !allFilled;
    }

    // Revisa el formulario cada vez que cambia un campo
    form.addEventListener('input', checkFormCompletion);

    // Llama a la función una vez al cargar la página
    checkFormCompletion();
});
</script>


    {% endblock %}